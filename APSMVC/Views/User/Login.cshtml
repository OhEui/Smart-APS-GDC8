@{
    Layout = null;
}


<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.88.1">
    <title>Signin Template · Bootstrap v4.6</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/4.6/examples/sign-in/">

    <!-- Bootstrap core CSS -->
    <link href="../pages/assets/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../pages/assets/dist/css/signin.css" rel="stylesheet">
</head>
<body class="text-center">

    <form class="form-signin">

        <img class="mb-4" src="../pages/assets/dist/svg/mainicon.svg" alt="" width="72" height="72">
        <h1 class="h3 mb-3 font-weight-normal">Please sign in</h1>
        <label for="inputEmail" class="sr-only">Email address</label>
        <input type="text" id="inputID" class="form-control" placeholder="ID" required autofocus>
        <label for="inputPassword" class="sr-only">Password</label>
        <input type="password" id="inputPassword" class="form-control" placeholder="Password" required>
        <div class="checkbox mb-3">
            <label>
                <input type="checkbox" value="remember-me"> Remember me
            </label>
        </div>
        <button class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>


    </form>


    <!-- jQuery -->
    <script src="../../pages/plugins/jquery/jquery.min.js"></script>
    <script>
        $(() => {
            $('.form-signin').submit(() => {
                event.preventDefault();
                alert('hello');
                var loginData =
                {
                    id: $("#inputID").val(),
                    password: $("#inputPassword").val()
                };
                $.ajax({
                    type: 'POST',
                    url: 'https://localhost:44309/api/Account/Login',
                    data: loginData
                }).done(function (data) {
                    $.ajaxSetup({
                        beforeSend: function (xhr) {
                            xhr.setRequestHeader('Authorization', 'Bearer ' + data.Data.access_token);
                        }
                    });
                    window.location.href = '/Result/Utilization'
                }).fail(function (jaxhr, status) {
                    alert('fail');
                    alert(jaxhr.status);
                });
            });

        });
    </script>
</body>
</html>
